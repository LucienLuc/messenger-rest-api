{"ast":null,"code":"var _jsxFileName = \"/Users/lucienluc/Downloads/cs/dev/Messenger/frontend/messenger/src/App.js\";\nimport React, { useState } from 'react';\nimport logo from \"./logo.svg\";\nimport './App.css';\nimport { Button } from '@material-ui/core';\nimport axios from 'axios';\nconst serv = '127.0.0.1:8000/';\nconst serv2 = 'localhost:8000/api';\n\nfunction User(props) {\n  const [token, setToken] = useState(''); // const handleClick = () => {\n  //   axios.get('http://127.0.0.1:8000/api/').then(response => {\n  //     console.log(response);\n  //     setData(response.data.results[0].title)\n  //   }).catch(error => console.log(error))\n  // }\n\n  const handleRegister = () => {\n    axios.post('http://127.0.0.1:8000/auth/users/', {\n      username: 'dom',\n      password: 'Dom12345678',\n      email: 'dom@gmail.com'\n    }).then(response => console.log(response)).catch(error => console.log(error));\n  };\n\n  const handleLogin = () => {\n    axios.post('http://127.0.0.1:8000/auth/jwt/create/', {\n      username: 'dom',\n      password: 'Dom12345678'\n    }).then(response => {\n      console.log(response);\n      setToken(response.data.access);\n    }).catch(error => console.log(error));\n  }; // setToken(response.data.token)\n\n\n  let config = {\n    headers: {\n      \"Authorization\": `JWT ${token}`,\n      'Content-Type': 'application/json',\n      \"Accept\": \"application/json\"\n    }\n  };\n\n  const handleGetUser = () => {\n    console.log(config.headers.Authorization);\n    axios.get('http://127.0.0.1:8000/auth/users/me/', config).then(response => console.log(response)).catch(error => console.log(error));\n  };\n\n  const chatSocket = new WebSocket('ws://' + window.location.host + '/ws/chat/' + roomName + '/');\n\n  chatSocket.onmessage = function (e) {\n    const data = JSON.parse(e.data);\n    document.querySelector('#chat-log').value += data.message + '\\n';\n  };\n\n  chatSocket.onclose = function (e) {\n    console.error('Chat socket closed unexpectedly');\n  };\n\n  chatSocket.send(JSON.stringify({\n    'message': message\n  }));\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: handleRegister,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }\n  }, \"Register Jimmy\"), /*#__PURE__*/React.createElement(Button, {\n    onClick: handleLogin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }\n  }, \"Log in Jimmy\"), /*#__PURE__*/React.createElement(Button, {\n    onClick: handleGetUser,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }\n  }, \"Get Jimmy\"));\n}\n\nfunction Channel(props) {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }\n  }, \"channels\"));\n}\n\nfunction App() {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    className: \"App-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: logo,\n    className: \"App-logo\",\n    alt: \"logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(User, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Channel, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"a\", {\n    className: \"App-link\",\n    href: \"https://reactjs.org\",\n    target: \"_blank\",\n    rel: \"noopener noreferrer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }\n  }, \"Learn React\")));\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/lucienluc/Downloads/cs/dev/Messenger/frontend/messenger/src/App.js"],"names":["React","useState","Button","axios","serv","serv2","User","props","token","setToken","handleRegister","post","username","password","email","then","response","console","log","catch","error","handleLogin","data","access","config","headers","handleGetUser","Authorization","get","chatSocket","WebSocket","window","location","host","roomName","onmessage","e","JSON","parse","document","querySelector","value","message","onclose","send","stringify","Channel","App","logo"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport {Button} from '@material-ui/core'\nimport axios from 'axios'\n\nconst serv = '127.0.0.1:8000/'\nconst serv2 = 'localhost:8000/api'\n\nfunction User(props) {\n  const [token, setToken] = useState('')\n\n  // const handleClick = () => {\n  //   axios.get('http://127.0.0.1:8000/api/').then(response => {\n  //     console.log(response);\n  //     setData(response.data.results[0].title)\n  //   }).catch(error => console.log(error))\n  // }\n\n  const handleRegister = () => {\n    axios.post('http://127.0.0.1:8000/auth/users/', {\n      username: 'dom',\n      password: 'Dom12345678',\n      email: 'dom@gmail.com'\n    }).then(\n      response => console.log(response)).catch(error => console.log(error))\n  }\n\n  const handleLogin = () => {\n    axios.post('http://127.0.0.1:8000/auth/jwt/create/', {\n      username: 'dom',\n      password: 'Dom12345678'\n    }).then(\n      response => {console.log(response); setToken(response.data.access)}).catch(error => console.log(error))\n  }\n\n  // setToken(response.data.token)\n\n  let config = {\n    headers: {\n      \"Authorization\": `JWT ${token}`,\n      'Content-Type': 'application/json',\n      \"Accept\": \"application/json\"\n    }\n  }\n\n  const handleGetUser = () => {\n    console.log(config.headers.Authorization)\n    axios.get('http://127.0.0.1:8000/auth/users/me/', config).then(\n      response => console.log(response)).catch(error => console.log(error))\n  }\n\n\n  const chatSocket = new WebSocket(\n    'ws://'\n    + window.location.host\n    + '/ws/chat/'\n    + roomName\n    + '/'\n);\n\nchatSocket.onmessage = function(e) {\n  const data = JSON.parse(e.data);\n  document.querySelector('#chat-log').value += (data.message + '\\n');\n};\n\nchatSocket.onclose = function(e) {\n  console.error('Chat socket closed unexpectedly');\n};\n\nchatSocket.send(JSON.stringify({\n  'message': message\n}));\n\n  return (\n    <div>\n      <Button onClick={handleRegister}>\n      Register Jimmy\n      </Button>\n      <Button onClick={handleLogin}>\n      Log in Jimmy\n      </Button>\n      <Button onClick={handleGetUser}>\n        Get Jimmy\n      </Button>\n    </div>\n  )\n}\n\nfunction Channel(props) {\n  return (\n    <div>\n      <p>channels</p>\n    </div>\n  )\n}\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <img src={logo} className=\"App-logo\" alt=\"logo\" />\n          <User></User>\n          <Channel></Channel>\n        <a\n          className=\"App-link\"\n          href=\"https://reactjs.org\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          Learn React\n        </a>\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}